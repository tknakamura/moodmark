# SEO改善回答の構造化

## 概要

SEO改善に関する質問に対して、AIは必ず「現状分析・課題整理・改善提案」という3段階の構造で回答します。これにより、より体系的で実用的なアドバイスを提供できます。

## 回答構造

### 1. 【現状分析】

現在のSEO要素の状態を数値と共に明確に示します。

#### 分析される項目

- **基本SEO要素**
  - タイトルタグ（長さ、最適範囲との比較）
  - メタディスクリプション（長さ、最適範囲との比較）
  - Canonical URL
  - Robots設定

- **コンテンツ構造**
  - H1-H6タグの数と構造
  - 文字数・語数
  - コンテンツの長さ（推奨値との比較）

- **アクセシビリティ**
  - 画像alt属性カバレッジ
  - リンクテキストの有無
  - フォームラベルの有無

- **構造化データ**
  - JSON-LD、マイクロデータ、RDFaの有無と数

- **リンク構造**
  - 内部リンク数
  - 外部リンク数
  - nofollowリンク数

- **技術的SEO**
  - Open Graph、Twitter Card
  - モバイル対応（Viewport）

- **パフォーマンス**
  - 外部リソース数
  - 画像の遅延読み込み状況

#### 表示形式

各項目について、以下の形式で表示されます：

```
■ 基本SEO要素
  タイトル: [現在のタイトル]
  タイトル長: [文字数]文字 (最適範囲: 30-60文字) ✓ 最適 / ✗ 要改善
  ディスクリプション: [現在のディスクリプション]
  ディスクリプション長: [文字数]文字 (最適範囲: 120-160文字) ✓ 最適 / ✗ 要改善
```

### 2. 【課題整理】

現状分析から見つかった問題点を優先度順に整理します。

#### 整理される内容

- **優先度の高い課題から順に列挙**
  - 緊急度・重要度を考慮
  - SEOへの影響度を説明

- **各課題の説明**
  - 問題点の具体的な内容
  - SEOに与える影響
  - 改善の緊急度

#### 例

```
【課題整理】

優先度：高
1. タイトルが最適範囲を超えている（75文字）
   - 検索結果でタイトルが切れる可能性がある
   - クリック率に悪影響を与える可能性

優先度：中
2. 画像alt属性が不足している（30%の画像にalt属性なし）
   - アクセシビリティの問題
   - 画像検索での表示機会を逃している
```

### 3. 【改善提案】

各課題に対する具体的な改善方法を提示します。

#### 提案される内容

- **具体的な改善方法**
  - 実装可能な具体的な改善案
  - 改善前後の比較

- **優先順位**
  - 改善すべき順序を提示
  - 実装の難易度も考慮

#### 例

```
【改善提案】

1. タイトルの最適化（優先度：高）
   現状: [現在のタイトル]（75文字）
   改善案: [改善後のタイトル]（55文字）
   効果: 検索結果で完全表示され、クリック率向上が期待できる

2. 画像alt属性の追加（優先度：中）
   対象: alt属性なし画像30件
   改善案: 各画像に適切なalt属性を追加
   効果: アクセシビリティ向上、画像検索での表示機会増加
```

## 実装の詳細

### システムプロンプト

AIのシステムプロンプトに、この3段階の構造を明示的に指示しています：

```python
【SEO改善に関する回答の構造】
SEO改善に関する質問には、必ず以下の3段階の構造で回答してください：

1. 【現状分析】
2. 【課題整理】
3. 【改善提案】
```

### データコンテキスト

SEO分析結果は、以下のように構造化されてAIに渡されます：

```
【現状分析】
■ 基本SEO要素
  [詳細な数値データ]
■ コンテンツ構造
  [詳細な数値データ]
...
```

### ユーザープロンプト

SEO関連の質問に対しては、以下のような構造化されたプロンプトが送信されます：

```
【回答形式】
必ず以下の3段階の構造で回答してください：

1. 【現状分析】
2. 【課題整理】
3. 【改善提案】
```

## 使用例

### 質問例

```
このページのSEO改善点は？ https://isetan.mistore.jp/moodmark/
```

### 回答例（構造）

```
【現状分析】
■ 基本SEO要素
  タイトル: MOODMARK | 結婚祝い特集（45文字）✓ 最適
  ディスクリプション: 結婚祝いに最適なギフトを...（145文字）✓ 最適
  ...

【課題整理】
優先度：高
1. H1タグが2つ存在（理想的には1つ）
   - 検索エンジンがページの主要テーマを理解しにくい
   ...

優先度：中
2. 画像alt属性が不足（30%の画像にalt属性なし）
   ...

【改善提案】
1. H1タグの統合（優先度：高）
   現状: H1タグが2つ
   改善案: 主要なH1タグを1つに統合
   効果: 検索エンジンがページの主要テーマを明確に理解できる
   ...
```

## メリット

1. **体系的な分析**: 現状→課題→改善という論理的な流れ
2. **優先順位の明確化**: どの課題から改善すべきかが明確
3. **実装可能性**: 具体的な改善案が提示される
4. **効果の可視化**: 改善前後の比較が可能

## 注意事項

- SEO改善以外の質問（GA4/GSCデータ分析など）では、この構造は必須ではありませんが、可能な限り構造化して回答します
- URLを含む質問は自動的にSEO分析が実行されます
- 分析結果は数値で正確に示されます

